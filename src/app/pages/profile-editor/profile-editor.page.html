<app-logged-in-header></app-logged-in-header>

<ion-content class="ion-padding">

    <div id="profile-image" [ngStyle]="profileImageStyle()" (click)="promptCaptureMethod()"></div>

    <form [formGroup]="form">
        <ion-item>
            <ion-label position="stacked">Name</ion-label>
            <ion-input type="text" ngDefaultControl formControlName="name" [formControl]="form.controls.name"></ion-input>
        </ion-item>

        <div color="alert" *ngIf="submitted && !form.controls.name.valid" class="validator-error">
            Please enter your name.
        </div>

        <ion-item>
            <ion-label position="stacked">About Me</ion-label>
            <ion-textarea type="text" ngDefaultControl formControlName="about_me" [formControl]="form.controls.about_me"></ion-textarea>
        </ion-item>

        <ion-item>
            <ion-label>Allow Members to Add Me</ion-label>
            <ion-toggle ngDefaultControl formControlName="allow_users_to_add_me" [formControl]="form.controls.allow_users_to_add_me"></ion-toggle>
        </ion-item>

        <ion-item>
            <ion-label>Receive Push Notifications</ion-label>
            <ion-toggle ngDefaultControl formControlName="receive_push_notifications" [formControl]="form.controls.receive_push_notifications"></ion-toggle>
        </ion-item>

        <ion-item>
            <ion-label position="stacked">
                Password <small>(at least 6 characters)</small>
                <br>
                <i><small>Leave blank in order to keep current password.</small></i>
            </ion-label>
            <ion-input type="password" ngDefaultControl formControlName="password" [formControl]="form.controls.password"></ion-input>
        </ion-item>

        <div *ngIf="submitted && !form.controls.password.valid" class="validator-error">
            Please enter a valid 6 digit password.
        </div>

        <div class="submit-wrapper">
            <ion-button large (click)="save()" class="btn">Save</ion-button>
        </div>
    </form>

</ion-content>
